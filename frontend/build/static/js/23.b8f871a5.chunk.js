(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[23],{137:function(e,t,r){"use strict";var a=r(2),n=(r(1),r(203));t.a=function(e){var t=e.heading,r=e.variant,c=void 0===r?"info":r,s=e.inline,i=e.children;return Object(a.jsxs)(n.a,{variant:c,style:{display:"".concat(s?"inline-block":"block")},children:[t&&Object(a.jsx)(n.a.Heading,{children:t}),Object(a.jsx)("p",{className:"mb-0",children:i})]})}},139:function(e,t,r){"use strict";var a=r(2),n=(r(1),r(142)),c=r.n(n);t.a=function(){return Object(a.jsx)("div",{className:c.a.container,children:Object(a.jsxs)("div",{className:c.a.spinner,children:[Object(a.jsx)("div",{className:c.a.rect1}),Object(a.jsx)("div",{className:c.a.rect2}),Object(a.jsx)("div",{className:c.a.rect3}),Object(a.jsx)("div",{className:c.a.rect4}),Object(a.jsx)("div",{className:c.a.rect5})]})})}},142:function(e,t,r){e.exports={container:"spinner_container__2CAwj",spinner:"spinner_spinner__1VZ-5","sk-stretchdelay":"spinner_sk-stretchdelay__jd4VF",rect2:"spinner_rect2__16VsG",rect3:"spinner_rect3__3Mo9Z",rect4:"spinner_rect4__jmrDn",rect5:"spinner_rect5__rqco1"}},160:function(e,t,r){"use strict";var a=r(2),n=(r(1),r(213)),c=r(161),s=r.n(c),i=function(e){var t=e.variant,r=e.children;return Object(a.jsx)("div",{className:s.a.chip,children:Object(a.jsx)(n.a,{variant:t,children:r})})};i.defaultProps={variant:"primary"},t.a=i},161:function(e,t,r){e.exports={chip:"chip_chip__1PtE_"}},178:function(e,t,r){"use strict";var a=r(4),n=r(7),c=r(133),s=r.n(c),i=r(1),o=r.n(i),u=r(135),d=r(148),b=r(141),l=r(166),j=o.a.forwardRef((function(e,t){var r=e.bsPrefix,c=e.className,i=e.variant,d=e.as,b=void 0===d?"img":d,l=Object(n.a)(e,["bsPrefix","className","variant","as"]),j=Object(u.a)(r,"card-img");return o.a.createElement(b,Object(a.a)({ref:t,className:s()(i?j+"-"+i:j,c)},l))}));j.displayName="CardImg",j.defaultProps={variant:null};var f=j,v=Object(b.a)("h5"),p=Object(b.a)("h6"),O=Object(d.a)("card-body"),h=Object(d.a)("card-title",{Component:v}),m=Object(d.a)("card-subtitle",{Component:p}),x=Object(d.a)("card-link",{Component:"a"}),y=Object(d.a)("card-text",{Component:"p"}),k=Object(d.a)("card-header"),N=Object(d.a)("card-footer"),w=Object(d.a)("card-img-overlay"),A=o.a.forwardRef((function(e,t){var r=e.bsPrefix,c=e.className,d=e.bg,b=e.text,j=e.border,f=e.body,v=e.children,p=e.as,h=void 0===p?"div":p,m=Object(n.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),x=Object(u.a)(r,"card"),y=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:x+"-header"}}),[x]);return o.a.createElement(l.a.Provider,{value:y},o.a.createElement(h,Object(a.a)({ref:t},m,{className:s()(c,x,d&&"bg-"+d,b&&"text-"+b,j&&"border-"+j)}),f?o.a.createElement(O,null,v):v))}));A.displayName="Card",A.defaultProps={body:!1},A.Img=f,A.Title=h,A.Subtitle=m,A.Body=O,A.Link=x,A.Text=y,A.Header=k,A.Footer=N,A.ImgOverlay=w;t.a=A},213:function(e,t,r){"use strict";var a=r(4),n=r(7),c=r(133),s=r.n(c),i=r(1),o=r.n(i),u=r(135),d=o.a.forwardRef((function(e,t){var r=e.bsPrefix,c=e.variant,i=e.pill,d=e.className,b=e.as,l=void 0===b?"span":b,j=Object(n.a)(e,["bsPrefix","variant","pill","className","as"]),f=Object(u.a)(r,"badge");return o.a.createElement(l,Object(a.a)({ref:t},j,{className:s()(d,f,i&&f+"-pill",c&&f+"-"+c)}))}));d.displayName="Badge",d.defaultProps={pill:!1},t.a=d},215:function(e,t,r){"use strict";var a=r(4),n=r(7),c=r(133),s=r.n(c),i=r(1),o=r.n(i),u=r(135),d=o.a.forwardRef((function(e,t){var r=e.bsPrefix,c=e.className,i=e.striped,d=e.bordered,b=e.borderless,l=e.hover,j=e.size,f=e.variant,v=e.responsive,p=Object(n.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),O=Object(u.a)(r,"table"),h=s()(c,O,f&&O+"-"+f,j&&O+"-"+j,i&&O+"-striped",d&&O+"-bordered",b&&O+"-borderless",l&&O+"-hover"),m=o.a.createElement("table",Object(a.a)({},p,{className:h,ref:t}));if(v){var x=O+"-responsive";return"string"===typeof v&&(x=x+"-"+v),o.a.createElement("div",{className:x},m)}return m}));t.a=d},462:function(e,t,r){"use strict";r.r(t);var a=r(29),n=r.n(a),c=r(43),s=r(2),i=r(1),o=r(13),u=r(6),d=r(178),b=r(215),l=r(454),j=r(69),f=r(140),v=r(160),p=r(139),O=r(137),h=r(144),m=r(22),x=r(30),y=r(44),k={getUsers:function(e){return Object(x.b)("/admin/users",Object(y.a)(e))},activateUser:function(e,t){return Object(x.c)("/admin/users/".concat(t,"/activate"),{},Object(y.a)(e))},deactivateUser:function(e,t){return Object(x.c)("/admin/users/".concat(t,"/deactivate"),{},Object(y.a)(e))},makeAdmin:function(e,t){return Object(x.c)("/admin/users/".concat(t,"/admin"),{},Object(y.a)(e))},makeSubscriber:function(e,t){return Object(x.c)("/admin/users/".concat(t,"/subscriber"),{},Object(y.a)(e))}},N=r(66),w=r(65),A=function(e){return{type:m.e,payload:e}},_=function(e){return e.adminUserList},g=Object(u.a)([_],(function(e){return e.loading})),P=Object(u.a)([_],(function(e){return e.users})),U=Object(u.a)([_],(function(e){return e.error})),E=Object(u.b)({loading:g,error:U,users:P});t.default=Object(o.b)(E,(function(e){return{fetchAdminUsers:function(){return e(function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a,c,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m.d}),e.prev=1,a=r(),c=a.auth,e.next=5,k.getUsers(c.token);case 5:s=e.sent,i=s.data,t(A(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t((n=Object(w.a)(e.t0),{type:m.c,payload:n}));case 13:case"end":return e.stop()}var n}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}())},activateUser:function(t){return e(function(e){return function(t,r){return new Promise(function(){var a=Object(c.a)(n.a.mark((function a(c,s){var i,o,u,d;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=r(),o=i.auth,a.next=4,k.activateUser(o.token,e);case 4:u=a.sent,d=u.data,t({type:m.a,payload:d}),t(Object(N.a)("Activated user account","success")),c(d),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),t(Object(N.a)(Object(w.a)(a.t0),"error")),s(Object(w.a)(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))},deactivateUser:function(t){return e(function(e){return function(t,r){return new Promise(function(){var a=Object(c.a)(n.a.mark((function a(c,s){var i,o,u,d;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=r(),o=i.auth,a.next=4,k.deactivateUser(o.token,e);case 4:u=a.sent,d=u.data,t({type:m.b,payload:d}),t(Object(N.a)("Deactivated user account","success")),c(d),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),t(Object(N.a)(Object(w.a)(a.t0),"error")),s(Object(w.a)(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))},makeAdmin:function(t){return e(function(e){return function(t,r){return new Promise(function(){var a=Object(c.a)(n.a.mark((function a(c,s){var i,o,u,d;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=r(),o=i.auth,a.next=4,k.makeAdmin(o.token,e);case 4:u=a.sent,d=u.data,t({type:m.f,payload:d}),t(Object(N.a)("Switched user to admin","success")),c(d),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),t(Object(N.a)(Object(w.a)(a.t0),"error")),s(Object(w.a)(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))},makeSubscriber:function(t){return e(function(e){return function(t,r){return new Promise(function(){var a=Object(c.a)(n.a.mark((function a(c,s){var i,o,u,d;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=r(),o=i.auth,a.next=4,k.makeSubscriber(o.token,e);case 4:u=a.sent,d=u.data,t({type:m.g,payload:d}),t(Object(N.a)("Switched user to subscriber","success")),c(d),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),t(Object(N.a)(Object(w.a)(a.t0),"error")),s(Object(w.a)(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))}}}))((function(e){var t=e.fetchAdminUsers,r=e.activateUser,a=e.deactivateUser,o=e.makeAdmin,u=e.makeSubscriber,m=e.loading,x=e.error,y=e.users;Object(i.useEffect)((function(){t()}),[t]);return Object(s.jsx)(f.a,{children:Object(s.jsxs)(d.a,{children:[Object(s.jsx)(d.a.Header,{as:"h1",children:"List of Users"}),Object(s.jsx)(d.a.Body,{children:m?Object(s.jsx)(p.a,{}):x?Object(s.jsx)(O.a,{variant:"danger",children:x}):Object(s.jsxs)(b.a,{responsive:!0,hover:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"JOINING DATE"}),Object(s.jsx)("th",{children:"NAME"}),Object(s.jsx)("th",{children:"EMAIL"}),Object(s.jsx)("th",{className:"text-center",children:"ROLE"}),Object(s.jsx)("th",{className:"text-center",children:"ADMIN"}),Object(s.jsx)("th",{className:"text-center",children:"STATUS"}),Object(s.jsx)("th",{className:"text-center",children:"ACTIVE"})]})}),Object(s.jsx)("tbody",{children:y.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.createdAt&&Object(l.a)(new Date(e.createdAt),"MMM dd, yyyy")}),Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.email}),Object(s.jsx)("td",{className:"text-center",children:e.isAdmin?Object(s.jsx)(v.a,{variant:"info",children:"Admin"}):Object(s.jsx)(v.a,{variant:"warning",children:"Subscriber"})}),Object(s.jsx)("td",{className:"text-center",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){return function(e){var t="Are you sure you want to make him ".concat(e.isAdmin?"SUBSCRIBER":"ADMIN");j.Reoverlay.showModal(h.a,{text:t,onConfirm:function(){var t=Object(c.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isAdmin){t.next=5;break}return t.next=3,u(e._id);case 3:t.next=7;break;case 5:return t.next=7,o(e._id);case 7:j.Reoverlay.hideModal();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})}(e)},children:e.isAdmin?"Switch to Subscriber":"Switch to Admin"})}),Object(s.jsx)("td",{className:"text-center",children:e.isActive?Object(s.jsx)(v.a,{variant:"dark",children:"Active"}):Object(s.jsx)(v.a,{variant:"secondary",children:"Inactive"})}),Object(s.jsx)("td",{className:"text-center",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(){return function(e){var t="Are you sure you want to ".concat(e.isActive?"deactivate":"activate"," this user");j.Reoverlay.showModal(h.a,{text:t,onConfirm:function(){var t=Object(c.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isActive){t.next=5;break}return t.next=3,a(e._id);case 3:t.next=7;break;case 5:return t.next=7,r(e._id);case 7:j.Reoverlay.hideModal();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})}(e)},children:e.isActive?"Deactivate":"Activate"})})]},e._id)}))})]})})]})})}))}}]);
//# sourceMappingURL=23.b8f871a5.chunk.js.map